var UserCreate,Create={options:{fileinputSrc:"#photo",formSrc:"form.form"},form:null,init:function(t){UserCreate=this,this.form=$(this.options.formSrc),LMCFileinput.init(this.getFileinputInitOptions()),LMCJcrop.setupElements(),Validation.init({src:this.options.formSrc,isAjax:!1,validate:{rules:t,messages:messagesOfRules}})},getFileinputInitOptions:function(){return{src:UserCreate.options.fileinputSrc,formSrc:UserCreate.options.formSrc,fileinput:{uploadUrl:UserCreate.form.prop("action"),showUpload:!1,showCancel:!1,fileActionSettings:{showUpload:!1},otherActionButtons:'<button type="button" id="image-crop-action" class="btn btn-xs yellow btn-outline tooltips" data-toggle="modal" title="'+LMCApp.lang.admin.ops.crop+'"><i class="icon-crop"></i> </button>'},filebrowse:function(t){theLMCJcrop.jcropReset()},fileloaded:function(t,o,e,i,n){LMCApp.initTooltips(),$("#image-crop-action").on("click",function(t){theLMCJcrop.jcropPreInit(n.result).init(UserCreate.getJcropInitOptions())}),theLMCJcrop.imgCropCancelBtn.on("click",function(t){theLMCJcrop.jcropReset()})},filecleared:function(t){theLMCJcrop.jcropReset()},filereset:function(t){theLMCJcrop.jcropReset()}}},getJcropInitOptions:function(){return{jcrop:{onRelease:function(){UserCreate.form.find('input[type="hidden"]').val("")}}}}};