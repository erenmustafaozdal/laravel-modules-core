var ModuleShow,Show={options:{formSrc:".product-form"},form:null,init:function(){ModuleShow=this,this.form=$(this.options.formSrc),Validation.init({src:this.options.formSrc,isAjax:!1,validate:{rules:{category_id:{required:!0},name:{required:!0}},messages:messagesOfRules}}),LMCFileinput.init(this.getPhotoFileinputOptions()),$("a.remove-element").on("click",function(){var e=$(this);LMCApp.removeElement({element:e,removeElement:{src:".element-wrapper"},ajax:{url:removePhotoURL.replace("###id###",e.data("parent-id")),data:{id:e.data("element-id")}}})}),$("a.set-main-photo").on("click",function(){var e=$(this);$.ajax({url:setMainPhotoURL.replace("###id###",e.data("parent-id")),data:{id:e.data("element-id")},success:function(t){if("success"!==t.result)return void LMCApp.getNoty({message:LMCApp.lang.admin.flash.update_error.message,title:LMCApp.lang.admin.flash.update_error.title,type:"error"});LMCApp.getNoty({message:LMCApp.lang.admin.flash.update_success.message,title:LMCApp.lang.admin.flash.update_success.title,type:"success"});var a=e.closest("div.row").find(".ribbon"),i=a.next().find("a.remove-element"),o=i.data("element-id"),n=i.data("parent-id");a.prependTo(e.closest(".mt-element-overlay")),i.closest("ul.mt-info").append("<li></li>"),e.data("element-id",o).attr("data-element-id",o).data("parent-id",n).attr("data-parent-id",n).appendTo(i.closest("ul.mt-info").find("li").last())}})})},getPhotoFileinputOptions:function(){return{src:"#photo",formSrc:"form.form",fileinput:{maxFileCount:maxFile,maxFileSize:maxSize,showUpload:!1,showCancel:!1,fileActionSettings:{showUpload:!1}}}}};