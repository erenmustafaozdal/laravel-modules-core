!function(){"use strict";$script.ready("validation",function(){$script(validationMethodsJs)}),$script.ready("jquery",function(){$script(operationJs,"operation"),$script("/vendor/laravel-modules-core/assets/global/plugins/jquery-inputmask/jquery.inputmask.bundle.min.js","inputmask"),$script("/vendor/laravel-modules-core/assets/global/plugins/jquery-repeater/jquery.repeater.min.js","repeater")}),$script.ready(["jquery","bootstrap"],function(){$script("/vendor/laravel-modules-core/assets/global/plugins/bootstrap-select/js/bootstrap-select.min.js","bs_select")}),$script.ready(["config","operation","inputmask","app_fileinput","app_jcrop","repeater","tinymce","bs_select"],function(){Operation.init(),$(".mt-repeater").each(function(){$(this).repeater({show:function(){$(this).slideDown(),LMCApp.initTooltips(),Tinymce.init({route:tinymceURL})},hide:function(e){bootbox.confirm(LMCApp.lang.admin.ops.destroy_input_confirm,function(t){t&&$(this).slideUp(e)})},ready:function(e){}})}),LMCApp.initInputMask({src:"#amount",type:"amount",inputmask:{placeholder:"_",numericInput:!0,rightAlignNumerics:!1,greedy:!1}})}),$script.ready(["config","app_select2","app_fileinput","app_jcrop"],function(){Select2.init({src:".select2showcase",select2:{ajax:null}}),Select2.init({src:".select2category",select2:{templateResult:function(e){if(e.loading)return e.text;var t=""==e.parents?"":'<small class="text-muted">'+e.parents+"</small> ";return t+e.text},escapeMarkup:function(e){return e},templateSelection:function(e){return e.text},ajax:{url:categoriesURL,processResults:function(e){return{results:$.map(e,function(e){return{text:e.name_uc_first,id:e.id,parents:e.parent_name_uc_first}})}}}},onChange:function(e){var t=$(this).val();if(""==t)return!1;var i=categoryDetailURL.replace("###id###",t);$.ajax({url:i,type:"GET",beforeSend:function(){LMCApp.hasTransaction=!1},success:function(e){var t=LMCApp.getOppositeAspect(aspectRatio,e.crop_type);$(".file-preview-image").each(function(e,i){var r=$(i).prop("id"),n=theLMCJcrop.apis[r];if(void 0!=n){n.setOptions({aspectRatio:t});var a=theLMCJcrop.getCropSize(n.tellSelect(),r);theLMCJcrop.setFormElements(a,$("#"+r.replace("img-","")))}}),aspectRatio=t,LMCAspectRatio=t,$("#crop_type").val(e.crop_type)}})}}),Select2.init({src:".select2brand",variableNames:{text:"name"},select2:{ajax:{url:brandsURL}}})}),$script.ready(["config","app_tinymce"],function(){Tinymce.init({route:tinymceURL})})}();