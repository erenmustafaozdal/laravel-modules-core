!function(){"use strict";$script.ready("validation",function(){$script(validationMethodsJs)}),$script.ready("jquery",function(){$script("/vendor/laravel-modules-core/assets/global/plugins/jquery-ui/jquery-ui.min.js","jquery_ui")}),$script.ready("jquery_ui",function(){$script("/vendor/laravel-modules-core/assets/global/plugins/jquery-ui-touch-punch/jquery.ui.touch-punch.min.js","touch_punch")}),$script.ready(["jquery_ui","touch_punch","config","app_select2"],function(){Select2.init({select2:{ajax:null,minimumResultsForSearch:-1}}),$("input.switch-is-active").on("switchChange.bootstrapSwitch",function(e,t){var s=$(this);t?s.closest("div.portlet").removeClass("bg-inverse").removeClass("portlet-sortable-disabled"):s.closest("div.portlet").addClass("bg-inverse").addClass("portlet-sortable-disabled")}),$("a.accordion-toggle").on("click",function(e){return $(this).closest("div.portlet").hasClass("portlet-sortable-disabled")?!1:void 0}),$("#enable_sortable").on("click",function(e){$("#sortable_portlets").sortable("enable"),$("#disable_sortable").removeClass("hidden"),$(this).addClass("hidden")}),$("#disable_sortable").on("click",function(e){$("#sortable_portlets").sortable("disable"),$("#enable_sortable").removeClass("hidden"),$(this).addClass("hidden")}),$(".section-title").on("click",function(){$(this).focus()});var e=$("#sortable_portlets");$("#save_sortable").on("click",function(t){var s={},l=$("input.switch-is-active"),a=$('input[type="text"][name="section_title"]'),i=e.sortable("toArray");$.each(i,function(e,t){s[t]={title:a.eq(e).val(),is_active:l.eq(e).bootstrapSwitch("state"),order:e+1}}),$.ajax({data:s,url:saveSortableURL,success:function(e){return"success"===e.result?void LMCApp.getNoty({message:LMCApp.lang.admin.flash.update_success.message,title:LMCApp.lang.admin.flash.update_success.title,type:"success"}):void LMCApp.getNoty({message:LMCApp.lang.admin.flash.update_error.message,title:LMCApp.lang.admin.flash.update_error.title,type:"error"})}})}),e.sortable({axis:"y",disabled:!0,connectWith:".portlet",items:".portlet",opacity:.5,handle:".portlet-title",coneHelperSize:!0,placeholder:"portlet-sortable-placeholder",forcePlaceholderSize:!0,tolerance:"pointer",helper:"clone",cancel:".portlet-sortable-empty, .portlet-sortable-disabled, .portlet-fullscreen",revert:250,update:function(e,t){t.item.prev().hasClass("portlet-sortable-empty")&&t.item.prev().before(t.item)}}).disableSelection()})}();